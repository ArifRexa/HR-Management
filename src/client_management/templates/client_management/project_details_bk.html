{% load replace_newline %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ project.title }} | Details</title>

{#    <style>#}
{#        #project-details {#}
{#          font-family: Arial, Helvetica, sans-serif;#}
{#          border-collapse: collapse;#}
{#          width: 100%;#}
{#        }#}
{##}
{#        #project-details td, #project-details th {#}
{#          border: 1px solid #ddd;#}
{#          padding: 8px;#}
{#        }#}
{##}
{#        #project-details tr:nth-child(even){background-color: #f2f2f2;}#}
{##}
{#        #project-details tr:hover {background-color: #ddd;}#}
{##}
{#        #project-details th {#}
{#          padding-top: 12px;#}
{#          padding-bottom: 12px;#}
{#          text-align: left;#}
{#          background-color: #04AA6D;#}
{#          color: white;#}
{#        }#}
{#    </style>#}
    <style>
        table, td, th {
          border: 1px solid;
        }

        table {
          width: 100%;
          border-collapse: collapse;
        }
    {#.col1 {#}
    {#    background-color: #00feff;#}
    {#}#}
    {#.col4 {#}
    {#    background-color: #00ff80;#}
    {#}#}
    </style>

</head>
<body>

<h2>{{ project.title }}</h2>

<h3>Total Hours: {{ total_hour }}</h3>
<br>
<form method="get" >
  <label for="From">From:</label>
  <input type="date" id="from-date" name="from-date">
  <label for="To">To:</label>
  <input type="date" id="to-date" name="to-date">
  <input type="submit" value="Filter">
</form>
<br>
<table id="project-details">
    <tr>
        <th class="col1">Date</th>
        <th class="col4">Day Hours</th>
        <th class="col2">Updates</th>
        <th class="col3">Task Hours</th>

    </tr>

    {% for update in daily_updates %}

        <tr>
            <td rowspan="{{ update.update | length | add:1 }}">{{ update.created_at }}</td>
            <td rowspan="{{ update.update | length | add:1 }}">{{ update.total_hour }}</td>
            {% for line_update in update.update %}
                <tr>
                <td>{{ line_update.0 | replace_newline_wth_br }}</td>
                <td>{{ line_update.1 }}</td>
                </tr>
            {% endfor %}
        </tr>

    {% endfor %}

</table>

<div class="pagination">
    <span class="step-links">
        {% if daily_updates.has_previous %}
            <a href="?page=1">&laquo; first</a>
            <a href="?page={{ daily_updates.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ daily_updates.number }} of {{ daily_updates.paginator.num_pages }}.
        </span>

        {% if daily_updates.has_next %}
            <a href="?page={{ daily_updates.next_page_number }}">next</a>
            <a href="?page={{ daily_updates.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>

</body>
</html>
