<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CEO Appointment</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .table {
            margin-top: 20px;
        }
        th {
            background-color: #007bff;
            color: white;
        }
        tr:hover {
            background-color: #e9ecef;
        }
        .status-pending {
            color: red; /* Red color for pending status */
            font-weight: bold;
        }
        .status-approved {
            color: blue; /* Blue color for approved status */
            font-weight: bold;
        }
        #live-time {
            font-size: 20px;
            font-weight: bold;
        }
    </style>
    <script>
        function updateStatus(selectedStatus) {
            document.getElementById('selected-status').innerText = "CEO Status: " + selectedStatus;
        }

        function updateTime() {
            const now = new Date();
            let hours = now.getHours();
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';

            // Convert to 12-hour format
            hours = hours % 12 || 12; // Converts '0' to '12' for midnight and noon
            const formattedTime = `${String(hours).padStart(2, '0')}:${minutes}:${seconds} ${ampm}`;
            document.getElementById('live-time').innerText = formattedTime;
        }

        setInterval(updateTime, 1000);  // Update every second

        document.addEventListener('DOMContentLoaded',function(){
            setTimeout(function() {
            window.location.reload();
        }, 120000);
        })
    </script>
</head>
<body onload="updateTime()">
    <div style="padding:12px">
        <marquee scrollamount="15" style="font-size: 120px; font-weight: bold; color: red; text-transform: uppercase;">
            {{ selected_status }}
        </marquee>

        <div id="live-time" style="font-size: 80px;text-align: center;"></div>

        <table style="font-size: 28px;" class="table table-striped table-bordered mt-4">
            <thead>
                <tr style="text-align: center;">
                    <th>Employee Name</th>
                    <th>Status</th>
                    <th>Appointment Time</th>
                </tr>
            </thead>
            <tbody>
                {% for ceo in ceo_data %}
                <tr style="text-align: center; font-weight: bold; font-size: 60px;">
                    <td>{{ ceo.name }}</td>
                    {% if ceo.status == 'pending' %}
                        <td class="status-pending"><i class="fas fa-hourglass-half"></i></td>
                    {% else %}
                        <td class="status-approved"><i class="fas fa-check-circle"></i></td>
                    {% endif %}
                    <td>{{ ceo.created_at|date:"h:i A" }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="3" class="text-center">No CEO appointments available.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>
